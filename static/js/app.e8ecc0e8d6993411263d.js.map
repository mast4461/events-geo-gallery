{"version":3,"sources":["webpack:///static/js/app.e8ecc0e8d6993411263d.js","webpack:///./src/main.js","webpack:///./src/libs/map.js","webpack:///./src/libs/location-parser.js","webpack:///./src/libs/server.js","webpack:///App.vue","webpack:///CategoryView.vue","webpack:///GeoEvent.vue","webpack:///GeoEventsView.vue","webpack:///LocationView.vue","webpack:///MapMarker.vue","webpack:///Thumbnail.vue","webpack:///./src/App.vue?d818","webpack:///./src/components/CategoryView.vue?88b5","webpack:///./src/components/GeoEvent.vue?52e2","webpack:///./src/components/GeoEventsView.vue?245e","webpack:///./src/components/LocationView.vue?fd0f","webpack:///./src/components/Thumbnail.vue?aaeb","webpack:///./src/App.vue","webpack:///./src/components/CategoryView.vue","webpack:///./src/components/GeoEvent.vue","webpack:///./src/components/GeoEventsView.vue","webpack:///./src/components/LocationView.vue","webpack:///./src/components/MapMarker.vue","webpack:///./src/components/Thumbnail.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","components","App","Object","defineProperty","value","map","L","window","createMap","element","setView","tileLayer","attribution","addTo","addMarker","latLng","onClick","marker","on","destroy","removeLayer","off","setLatLng","zoom","fitLatLngs","latLngs","fitBounds","latLngBounds","padding","getHashParameters","location","hash","substring","split","reduce","acc","pairString","_pairString$split","_pairString$split2","_slicedToArray3","key","getAccessToken","params","hasOwnProperty","undefined","_slicedToArray2","init","console","log","_promise2","resolve","reject","token","_locationParser","dbx","setAccessToken","downloadJson","path","filesDownload","then","downloadData","_readBlob2","fileBlob","JSON","parse","flatListToTree","dropboxResponse","dropboxEntries","entries","tree","forEach","dropboxEntry","pathParts","path_lower","shift","currentLevel","n","length","part","i","existingPath","find","item","name","children","newPart","push","treeToEventData","reshapedTree","locations","child","categories","filter","category","images","getThumbnailBlob","filesGetThumbnail","id","size","response","getGeoJson","locationEntry","test","sort","a","b","nameA","toUpperCase","nameB","populateTreeWithCoordinates","promises","geoJson","geoJsonToLatLng","all","lngLat","features","geometry","coordinates","filesListFolder","options","entry","Folder","logAndRethrowError","error","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_promise","_dropbox","_dropbox2","_readBlob","dropboxResponseEntry","this","c","recursive","getEvents","_GeoEventsView","_GeoEventsView2","GeoEventsView","_Thumbnail","_Thumbnail2","props","Thumbnail","computed","categoryData","_stringify","_stringify2","_LocationView","_LocationView2","_MapMarker","_MapMarker2","_map","_map2","LocationView","MapMarker","data","selectedLocation","eventData","string","locationsWithCoordinates","methods","fetchEventData","_this","eventMetaData","getEventData","zoomToExtent","err","getLocationSelector","_this2","watch","ready","_GeoEvent","_GeoEvent2","_server","_server2","GeoEvent","msg","geoEvents","selectedGeoEvent","fetchEvents","events","$set","_toConsumableArray2","_toConsumableArray3","_CategoryView","_CategoryView2","CategoryView","checkedCategories","locationData","concat","type","Array","required","clickHandler","Function","beforeDestroy","URL","webkitURL","imgSrc","updateImgSrc","revokeImgSrc","imageData","blob","createObjectURL","revokeObjectURL","fullScreen","__vue_script__","__vue_template__","template"],"mappings":"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","file":"static/js/app.e8ecc0e8d6993411263d.js","sourcesContent":["webpackJsonp([2,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(131);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(124);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: 'body',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar L = window.L;\n\tvar map;\n\t\n\texports.default = {\n\t  createMap: function createMap(element) {\n\t    map = L.map(element);\n\t    window.map = map;\n\t    map.setView([0, 0], 0);\n\t\n\t    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n\t      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t    }).addTo(map);\n\t  },\n\t  addMarker: function addMarker(latLng, onClick) {\n\t    var marker = L.marker(latLng).addTo(map);\n\t\n\t    if (onClick) {\n\t      marker.on('click', onClick);\n\t    }\n\t\n\t    return {\n\t      destroy: function destroy() {\n\t        map.removeLayer(marker);\n\t        if (onClick) {\n\t          marker.off('click', onClick);\n\t        }\n\t      },\n\t      setLatLng: function setLatLng(latLng) {\n\t        marker.setLatLng(latLng);\n\t      }\n\t    };\n\t  },\n\t  setView: function setView(latLng, zoom) {\n\t    map.setView(latLng, zoom);\n\t  },\n\t  fitLatLngs: function fitLatLngs(latLngs) {\n\t    map.fitBounds(L.latLngBounds(latLngs), {\n\t      padding: [30, 30]\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getAccessToken = exports.getHashParameters = undefined;\n\t\n\tvar _slicedToArray2 = __webpack_require__(60);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getHashParameters() {\n\t  return window.location.hash.substring(1).split('&').reduce(function (acc, pairString) {\n\t    var _pairString$split = pairString.split('=');\n\t\n\t    var _pairString$split2 = (0, _slicedToArray3.default)(_pairString$split, 2);\n\t\n\t    var key = _pairString$split2[0];\n\t    var value = _pairString$split2[1];\n\t\n\t    acc[key] = value;\n\t    return acc;\n\t  }, {});\n\t}\n\t\n\tfunction getAccessToken() {\n\t  var params = getHashParameters();\n\t  var key = 'access_token';\n\t\n\t  return params.hasOwnProperty(key) ? params[key] : undefined;\n\t}\n\t\n\texports.getHashParameters = getHashParameters;\n\texports.getAccessToken = getAccessToken;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(58);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(59);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _promise = __webpack_require__(57);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _dropbox = __webpack_require__(102);\n\t\n\tvar _dropbox2 = _interopRequireDefault(_dropbox);\n\t\n\tvar _readBlob = __webpack_require__(114);\n\t\n\tvar _readBlob2 = _interopRequireDefault(_readBlob);\n\t\n\tvar _locationParser = __webpack_require__(43);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar dbx = new _dropbox2.default();\n\t\n\tfunction init() {\n\t  console.log('initializing');\n\t  return new _promise2.default(function (resolve, reject) {\n\t    var token = (0, _locationParser.getAccessToken)();\n\t    if (token === undefined) {\n\t      console.log('Token not found in URL');\n\t      reject('Token not found in URL');\n\t\n\t      window.location = 'https://www.dropbox.com/1/oauth2/authorize?client_id=iybymu5ptwg7vkc&response_type=token&redirect_uri=https://mast4461.github.io/events-geo-gallery/';\n\t    } else {\n\t      dbx.setAccessToken(token);\n\t      resolve();\n\t    }\n\t  });\n\t}\n\t\n\tvar Folder = function () {\n\t  function Folder(dropboxResponseEntry) {\n\t    (0, _classCallCheck3.default)(this, Folder);\n\t\n\t    this.name = dropboxResponseEntry.name;\n\t    this.path = dropboxResponseEntry.path_lower;\n\t  }\n\t\n\t  (0, _createClass3.default)(Folder, [{\n\t    key: 'getContents',\n\t    value: function getContents() {\n\t      return filesListFolder({ path: this.path });\n\t    }\n\t  }, {\n\t    key: 'getThumbnail',\n\t    value: function getThumbnail() {\n\t      return dbx.filesGetThumbnail({ path: this.path }).catch(logAndRethrowError);\n\t    }\n\t  }, {\n\t    key: 'getLatLng',\n\t    value: function getLatLng() {\n\t      return downloadJson(this.path).then(function (geoJson) {\n\t        return geoJson.features[0].geometry.coordinates;\n\t      }).then(function (c) {\n\t        return [c[1], c[0]];\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getEventData',\n\t    value: function getEventData() {\n\t      return dbx.filesListFolder({ path: this.path, recursive: true }).then(flatListToTree).then(treeToEventData).then(populateTreeWithCoordinates).catch(logAndRethrowError);\n\t    }\n\t  }]);\n\t  return Folder;\n\t}();\n\t\n\tfunction downloadJson(path) {\n\t  return dbx.filesDownload({ path: path }).then(function (downloadData) {\n\t    return (0, _readBlob2.default)(downloadData.fileBlob, 'text');\n\t  }).then(JSON.parse);\n\t}\n\t\n\tfunction flatListToTree(dropboxResponse) {\n\t  var dropboxEntries = dropboxResponse.entries;\n\t  var tree = [];\n\t\n\t  dropboxEntries.forEach(function (dropboxEntry) {\n\t    var pathParts = dropboxEntry.path_lower.split('/');\n\t    pathParts.shift();\n\t\n\t    var currentLevel = tree;\n\t\n\t    var n = pathParts.length;\n\t    pathParts.forEach(function (part, i) {\n\t      var existingPath = currentLevel.find(function (item) {\n\t        return item.name === part;\n\t      });\n\t\n\t      if (existingPath) {\n\t        currentLevel = existingPath.children;\n\t      } else {\n\t        var newPart = {\n\t          name: part,\n\t          children: []\n\t        };\n\t\n\t        if (i === n - 1) {\n\t          newPart.item = dropboxEntry;\n\t        }\n\t\n\t        currentLevel.push(newPart);\n\t        currentLevel = newPart.children;\n\t      }\n\t    });\n\t  });\n\t\n\t  return tree[0];\n\t}\n\t\n\tfunction treeToEventData(tree) {\n\t  var reshapedTree = {\n\t    name: tree.name,\n\t    locations: tree.children.map(function (child) {\n\t      return {\n\t        name: child.name,\n\t        categories: child.children.filter(function (child) {\n\t          return child.item['.tag'] === 'folder';\n\t        }).map(function (category) {\n\t          return {\n\t            name: category.name,\n\t            images: category.children.map(function (child) {\n\t              return {\n\t                name: child.name,\n\t                path: child.item.path_lower,\n\t                getThumbnailBlob: function getThumbnailBlob() {\n\t                  return dbx.filesGetThumbnail({ path: child.item.id, size: 'w640h480' }).then(function (response) {\n\t                    return response.fileBlob;\n\t                  });\n\t                }\n\t              };\n\t            })\n\t          };\n\t        }),\n\t        getGeoJson: function getGeoJson() {\n\t          var locationEntry = child.children.find(function (child) {\n\t            return (/\\.geo\\.json/.test(child.name)\n\t            );\n\t          });\n\t          if (locationEntry) {\n\t            return downloadJson(locationEntry.item.path_lower);\n\t          } else {\n\t            return _promise2.default.resolve(undefined);\n\t          }\n\t        },\n\t\n\t        latLng: undefined\n\t      };\n\t    })\n\t  };\n\t\n\t  reshapedTree.locations = reshapedTree.locations.sort(function (a, b) {\n\t    var nameA = a.name.toUpperCase();\n\t    var nameB = b.name.toUpperCase();\n\t    if (nameA < nameB) {\n\t      return -1;\n\t    } else if (nameA > nameB) {\n\t      return 1;\n\t    } else {\n\t      return 0;\n\t    }\n\t  });\n\t\n\t  return reshapedTree;\n\t}\n\t\n\tfunction populateTreeWithCoordinates(tree) {\n\t  var promises = tree.locations.map(function (location) {\n\t    return location.getGeoJson().then(function (geoJson) {\n\t      if (geoJson) {\n\t        delete location.getGeoJson;\n\t        location.latLng = geoJsonToLatLng(geoJson);\n\t      }\n\t    });\n\t  });\n\t\n\t  return _promise2.default.all(promises).then(function () {\n\t    console.log('returning tree');\n\t    return tree;\n\t  });\n\t}\n\t\n\tfunction geoJsonToLatLng(geoJson) {\n\t  var lngLat = geoJson.features[0].geometry.coordinates;\n\t  return [lngLat[1], lngLat[0]];\n\t}\n\t\n\tfunction filesListFolder(options) {\n\t  return dbx.filesListFolder(options).then(function (response) {\n\t    return response.entries.map(function (entry) {\n\t      return new Folder(entry);\n\t    });\n\t  }).catch(logAndRethrowError);\n\t}\n\t\n\tfunction logAndRethrowError(error) {\n\t  console.log(error);\n\t  throw error;\n\t}\n\t\n\texports.default = {\n\t  getEvents: function getEvents() {\n\t    return filesListFolder({ path: '' });\n\t  },\n\t\n\t\n\t  init: init\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _GeoEventsView = __webpack_require__(127);\n\t\n\tvar _GeoEventsView2 = _interopRequireDefault(_GeoEventsView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    GeoEventsView: _GeoEventsView2.default\n\t  }\n\t};\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Thumbnail = __webpack_require__(130);\n\t\n\tvar _Thumbnail2 = _interopRequireDefault(_Thumbnail);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['categoryData'],\n\t  components: {\n\t    Thumbnail: _Thumbnail2.default\n\t  },\n\t\n\t  computed: {\n\t    images: function images() {\n\t      return this.categoryData ? this.categoryData.images : [];\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(55);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _LocationView = __webpack_require__(128);\n\t\n\tvar _LocationView2 = _interopRequireDefault(_LocationView);\n\t\n\tvar _MapMarker = __webpack_require__(129);\n\t\n\tvar _MapMarker2 = _interopRequireDefault(_MapMarker);\n\t\n\tvar _map = __webpack_require__(15);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['eventMetaData'],\n\t  components: {\n\t    LocationView: _LocationView2.default,\n\t    MapMarker: _MapMarker2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      selectedLocation: undefined,\n\t      eventData: undefined\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    string: function string() {\n\t      return (0, _stringify2.default)(this.eventData, null, 2);\n\t    },\n\t    locations: function locations() {\n\t      if (this.eventData) {\n\t        return this.eventData.locations;\n\t      } else {\n\t        return [];\n\t      }\n\t    },\n\t    latLngs: function latLngs() {\n\t      return this.locationsWithCoordinates.map(function (location) {\n\t        return location.latLng;\n\t      });\n\t    },\n\t    locationsWithCoordinates: function locationsWithCoordinates() {\n\t      return this.locations.filter(function (location) {\n\t        return location.latLng;\n\t      });\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    fetchEventData: function fetchEventData() {\n\t      var _this = this;\n\t\n\t      this.eventMetaData.getEventData().then(function (eventData) {\n\t        _this.eventData = eventData;\n\t        console.log((0, _stringify2.default)(_this.eventData, null, 2));\n\t        _this.zoomToExtent();\n\t      }).catch(function (err) {\n\t        return console.log(err);\n\t      });\n\t    },\n\t    getLocationSelector: function getLocationSelector(location) {\n\t      var _this2 = this;\n\t\n\t      return function () {\n\t        _this2.selectedLocation = location;\n\t      };\n\t    },\n\t    zoomToExtent: function zoomToExtent() {\n\t      _map2.default.fitLatLngs(this.latLngs);\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    eventMetaData: function eventMetaData() {\n\t      this.fetchEventData();\n\t    },\n\t    selectedLocation: function selectedLocation() {\n\t      var latLng = this.selectedLocation.latLng;\n\t      if (latLng) {\n\t        _map2.default.setView(this.selectedLocation.latLng);\n\t      } else {\n\t        this.zoomToExtent();\n\t      }\n\t    }\n\t  },\n\t\n\t  ready: function ready() {\n\t    this.fetchEventData();\n\t  }\n\t};\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _GeoEvent = __webpack_require__(126);\n\t\n\tvar _GeoEvent2 = _interopRequireDefault(_GeoEvent);\n\t\n\tvar _server = __webpack_require__(44);\n\t\n\tvar _server2 = _interopRequireDefault(_server);\n\t\n\tvar _map = __webpack_require__(15);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    GeoEvent: _GeoEvent2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      msg: 'hello',\n\t      geoEvents: [],\n\t      selectedGeoEvent: undefined\n\t    };\n\t  },\n\t  ready: function ready() {\n\t    _map2.default.createMap('map-container');\n\t    _server2.default.init().catch(function (err) {\n\t      return console.log(err);\n\t    }).then(this.fetchEvents);\n\t  },\n\t\n\t\n\t  watch: {\n\t    geoEvents: function geoEvents() {\n\t      if (this.geoEvents.length === 1) {\n\t        this.selectedGeoEvent = this.geoEvents[0];\n\t      }\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    fetchEvents: function fetchEvents() {\n\t      var _this = this;\n\t\n\t      _server2.default.getEvents().then(function (events) {\n\t        _this.$set('geoEvents', events);\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(61);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _CategoryView = __webpack_require__(125);\n\t\n\tvar _CategoryView2 = _interopRequireDefault(_CategoryView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['locationData'],\n\t  components: {\n\t    CategoryView: _CategoryView2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      checkedCategories: [],\n\t      latLng: undefined\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    categories: function categories() {\n\t      return this.locationData ? this.locationData.categories : [];\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    categories: function categories() {\n\t      this.checkedCategories = [].concat((0, _toConsumableArray3.default)(this.categories));\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _map = __webpack_require__(15);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: {\n\t    latLng: {\n\t      type: Array,\n\t      required: true\n\t    },\n\t    clickHandler: {\n\t      type: Function\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      marker: undefined\n\t    };\n\t  },\n\t\n\t  ready: function ready() {\n\t    this.marker = _map2.default.addMarker(this.latLng, this.clickHandler);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    this.marker.destroy();\n\t  },\n\t\n\t\n\t  watch: {\n\t    latLng: function latLng() {\n\t      this.marker.setLatLng(this.latLng);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar URL = window.URL || window.webkitURL;\n\texports.default = {\n\t  props: ['imageData'],\n\t\n\t  data: function data() {\n\t    return {\n\t      imgSrc: ''\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    updateImgSrc: function updateImgSrc() {\n\t      var _this = this;\n\t\n\t      this.revokeImgSrc();\n\t\n\t      this.imageData.getThumbnailBlob().then(function (blob) {\n\t        _this.imgSrc = URL.createObjectURL(blob);\n\t      });\n\t    },\n\t    revokeImgSrc: function revokeImgSrc() {\n\t      if (this.imgSrc) {\n\t        URL.revokeObjectURL(this.imgSrc);\n\t      }\n\t    },\n\t    fullScreen: function fullScreen() {\n\t      console.log('fullScreen');\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    imageData: function imageData() {\n\t      this.updateImgSrc();\n\t    }\n\t  },\n\t\n\t  ready: function ready() {\n\t    this.updateImgSrc();\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    this.revokeImgSrc();\n\t  }\n\t};\n\n/***/ },\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 109 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 111 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 112 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=app> <geo-events-view></geo-events-view> </div> \";\n\n/***/ },\n/* 119 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=category-view> <h3>{{categoryData.name}}</h3> <thumbnail v-for=\\\"image in images\\\" :image-data=image></thumbnail> </div> \";\n\n/***/ },\n/* 120 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <h2>{{eventMetaData.name}}</h2> <select name=location-selector id=location-selector v-model=selectedLocation> <option v-for=\\\"location in locations\\\" :value=location>{{location.name}}</option> </select> <label for=location-selector>Select a location</label> <location-view v-if=selectedLocation :location-data=selectedLocation></location-view> <map-marker v-for=\\\"location in locationsWithCoordinates\\\" :lat-lng=location.latLng :click-handler=getLocationSelector(location)></map-marker> </div> \";\n\n/***/ },\n/* 121 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <label for=event-selector>Event</label> <select name=event-selector id=event-selector v-model=selectedGeoEvent> <option v-for=\\\"geoEvent in geoEvents\\\" :value=geoEvent>{{geoEvent.name}}</option> </select> <div id=map-container></div> <geo-event v-if=selectedGeoEvent :event-meta-data=selectedGeoEvent></geo-event> </div> \";\n\n/***/ },\n/* 122 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <h2>{{locationData.name}}</h2> <p v-if=\\\"locationData && !locationData.latLng\\\">Coordinates missing</p> <template v-for=\\\"category in categories\\\"> <input type=checkbox :id=category.name :value=category v-model=checkedCategories checked=checked> <label :for=category.name>{{category.name}}</label> </template> <div id=categories> <category-view v-for=\\\"category in categories\\\" :category-data=category v-show=checkedCategories.includes(category)></category-view> <div v-if=\\\"categories.length === 0\\\">No image categories for this location</div> </div> </div> \";\n\n/***/ },\n/* 123 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <img class=thumbnail :src=imgSrc :alt=imageData.path @click=fullScreen> <p>{{imageData.name}}</p> </div> \";\n\n/***/ },\n/* 124 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(108)\n\t__vue_script__ = __webpack_require__(45)\n\t__vue_template__ = __webpack_require__(118)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 125 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(109)\n\t__vue_script__ = __webpack_require__(46)\n\t__vue_template__ = __webpack_require__(119)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 126 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(47)\n\t__vue_template__ = __webpack_require__(120)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 127 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(110)\n\t__vue_script__ = __webpack_require__(48)\n\t__vue_template__ = __webpack_require__(121)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 128 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(111)\n\t__vue_script__ = __webpack_require__(49)\n\t__vue_template__ = __webpack_require__(122)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(50)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 130 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(112)\n\t__vue_script__ = __webpack_require__(51)\n\t__vue_template__ = __webpack_require__(123)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.e8ecc0e8d6993411263d.js\n **/","import Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: 'body',\n  components: { App }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","\nconst L = window.L\nvar map\n\nexport default {\n  createMap (element) {\n    map = L.map(element)\n    window.map = map\n    map.setView([0, 0], 0)\n\n    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map)\n  },\n\n  addMarker (latLng, onClick) {\n    const marker = L.marker(latLng).addTo(map)\n\n    if (onClick) {\n      marker.on('click', onClick)\n    }\n\n    return {\n      destroy () {\n        map.removeLayer(marker)\n        if (onClick) {\n          marker.off('click', onClick)\n        }\n      },\n      setLatLng (latLng) {\n        marker.setLatLng(latLng)\n      }\n    }\n  },\n\n  setView (latLng, zoom) {\n    map.setView(latLng, zoom)\n  },\n\n  fitLatLngs (latLngs) {\n    map.fitBounds(L.latLngBounds(latLngs), {\n      padding: [30, 30]\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/map.js\n **/","function getHashParameters () {\n  return window.location.hash.substring(1).split('&').reduce((acc, pairString) => {\n    const [key, value] = pairString.split('=')\n    acc[key] = value\n    return acc\n  }, {})\n}\n\nfunction getAccessToken () {\n  const params = getHashParameters()\n  const key = 'access_token'\n\n  return params.hasOwnProperty(key) ? params[key] : undefined\n}\n\nexport { getHashParameters, getAccessToken }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/location-parser.js\n **/","import Dropbox from 'dropbox'\nimport readBlob from 'read-blob'\nimport { getAccessToken } from './location-parser'\n\nconst dbx = new Dropbox()\n\nfunction init () {\n  console.log('initializing')\n  return new Promise((resolve, reject) => {\n    const token = getAccessToken()\n    if (token === undefined) {\n      console.log('Token not found in URL')\n      reject('Token not found in URL')\n\n      // Hmm, the following URL should probably be a configuration setting...\n      window.location = 'https://www.dropbox.com/1/oauth2/authorize?client_id=iybymu5ptwg7vkc&response_type=token&redirect_uri=https://mast4461.github.io/events-geo-gallery/'\n    } else {\n      dbx.setAccessToken(token)\n      resolve()\n    }\n  })\n}\n\nclass Folder {\n  constructor (dropboxResponseEntry) {\n    this.name = dropboxResponseEntry.name\n    this.path = dropboxResponseEntry.path_lower\n  }\n\n  getContents () {\n    return filesListFolder({path: this.path})\n  }\n\n  getThumbnail () {\n    return dbx.filesGetThumbnail({path: this.path})\n      .catch(logAndRethrowError)\n  }\n\n  getLatLng () {\n    return downloadJson(this.path)\n      .then(geoJson => geoJson.features[0].geometry.coordinates)\n      .then(c => [c[1], c[0]])\n  }\n\n  getEventData () {\n    return dbx.filesListFolder({path: this.path, recursive: true})\n      .then(flatListToTree)\n      .then(treeToEventData)\n      .then(populateTreeWithCoordinates)\n      .catch(logAndRethrowError)\n  }\n}\n\nfunction downloadJson (path) {\n  return dbx.filesDownload({path: path})\n    .then(downloadData => readBlob(downloadData.fileBlob, 'text'))\n    .then(JSON.parse)\n}\n\n// From http://brandonclapp.com/arranging-an-array-of-flat-paths-into-a-json-tree-like-structure/\nfunction flatListToTree (dropboxResponse) {\n  const dropboxEntries = dropboxResponse.entries\n  var tree = []\n\n  // This example uses the underscore.js library.\n  dropboxEntries.forEach(function (dropboxEntry) {\n    const pathParts = dropboxEntry.path_lower.split('/')\n    pathParts.shift() // Remove first blank element from the parts array.\n\n    let currentLevel = tree // initialize currentLevel to root\n\n    const n = pathParts.length\n    pathParts.forEach(function (part, i) {\n      const existingPath = currentLevel.find(item => item.name === part)\n\n      if (existingPath) {\n        // The path to this item was already in the tree, so don't add it again.\n        // Set the current level to this path's children\n        currentLevel = existingPath.children\n      } else {\n        var newPart = {\n          name: part,\n          children: []\n        }\n\n        if (i === n - 1) {\n          newPart.item = dropboxEntry\n        }\n\n        currentLevel.push(newPart)\n        currentLevel = newPart.children\n      }\n    })\n  })\n\n  return tree[0]\n}\n\nfunction treeToEventData (tree) {\n  const reshapedTree = {\n    name: tree.name,\n    locations: tree.children.map(child => ({\n      name: child.name,\n      categories: child.children.filter(child => child.item['.tag'] === 'folder')\n        .map(category => ({\n          name: category.name,\n          images: category.children.map(child => ({\n            name: child.name,\n            path: child.item.path_lower,\n            getThumbnailBlob () {\n              return dbx.filesGetThumbnail({path: child.item.id, size: 'w640h480'})\n                .then(response => response.fileBlob)\n            }\n          }))\n        })),\n      getGeoJson () {\n        const locationEntry = child.children.find(child => /\\.geo\\.json/.test(child.name))\n        if (locationEntry) {\n          return downloadJson(locationEntry.item.path_lower)\n        } else {\n          return Promise.resolve(undefined)\n        }\n      },\n      latLng: undefined\n    }))\n  }\n\n  reshapedTree.locations = reshapedTree.locations.sort((a, b) => {\n    var nameA = a.name.toUpperCase()\n    var nameB = b.name.toUpperCase()\n    if (nameA < nameB) {\n      return -1\n    } else if (nameA > nameB) {\n      return 1\n    } else {\n      return 0\n    }\n  })\n\n  return reshapedTree\n}\n\nfunction populateTreeWithCoordinates (tree) {\n  const promises = tree.locations.map(location => {\n    return location.getGeoJson().then(geoJson => {\n      if (geoJson) {\n        delete location.getGeoJson\n        location.latLng = geoJsonToLatLng(geoJson)\n      }\n    })\n  })\n\n  return Promise.all(promises).then(() => {\n    console.log('returning tree')\n    return tree\n  })\n}\n\nfunction geoJsonToLatLng (geoJson) {\n  const lngLat = geoJson.features[0].geometry.coordinates\n  return [lngLat[1], lngLat[0]]\n}\n\nfunction filesListFolder (options) {\n  return dbx.filesListFolder(options)\n    .then(function (response) {\n      return response.entries.map(entry => new Folder(entry))\n    }).catch(logAndRethrowError)\n}\n\nfunction logAndRethrowError (error) {\n  console.log(error)\n  throw error\n}\n\nexport default {\n  getEvents () {\n    return filesListFolder({path: ''})\n  },\n\n  init\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/server.js\n **/","<template>\n  <div id=\"app\">\n    <!-- <img class=\"logo\" src=\"./assets/logo.png\"> -->\n    <geo-events-view></geo-events-view>\n  </div>\n</template>\n\n<script>\nimport GeoEventsView from './components/GeoEventsView'\n\nexport default {\n  components: {\n    GeoEventsView\n  }\n}\n</script>\n\n<style>\nhtml {\n  height: 100%;\n}\n\nbody {\n/*  display: flex;\n  align-items: center;\n  justify-content: center; */\n\n  height: 100%;\n}\n\n#app {\n  color: #2c3e50;\n  /*max-width: 600px;*/\n  font-family: Source Sans Pro, Helvetica, sans-serif;\n}\n\n#app a {\n  color: #42b983;\n  text-decoration: none;\n}\n\n.logo {\n  width: 100px;\n  height: 100px\n}\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?6c4967ca\n **/","<template>\n  <div class=\"category-view\">\n    <h3>{{categoryData.name}}</h3>\n    <thumbnail v-for=\"image in images\" :image-data=\"image\"></thumbnail>\n  </div>\n</template>\n\n<script>\nimport Thumbnail from './Thumbnail'\nexport default {\n  props: ['categoryData'],\n  components: {\n    Thumbnail\n  },\n\n  computed: {\n    images () {\n      return this.categoryData ? this.categoryData.images : []\n    }\n  }\n}\n</script>\n\n<style>\n.category-view {\n  border: 1px solid black;\n  flex: 1;\n  text-align: center;\n  position: relative;\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** CategoryView.vue?0d57f6ac\n **/","<template>\n  <div>\n    <h2>{{eventMetaData.name}}</h2>\n    <select name=\"location-selector\" id=\"location-selector\" v-model=\"selectedLocation\">\n      <option v-for=\"location in locations\" :value=\"location\">{{location.name}}</option>\n    </select>\n    <label for=\"location-selector\">Select a location</label>\n\n    <location-view v-if=\"selectedLocation\" :location-data=\"selectedLocation\"></location-view>\n\n    <map-marker v-for=\"location in locationsWithCoordinates\" :lat-lng=\"location.latLng\" :click-handler=\"getLocationSelector(location)\"></map-marker>\n  </div>\n</template>\n\n<script>\nimport LocationView from './LocationView.vue'\nimport MapMarker from './MapMarker.vue'\nimport map from '../libs/map'\n\nexport default {\n  props: ['eventMetaData'],\n  components: {\n    LocationView,\n    MapMarker\n  },\n\n  data: () => ({\n    selectedLocation: undefined,\n    eventData: undefined\n  }),\n\n  computed: {\n    string () {\n      return JSON.stringify(this.eventData, null, 2)\n    },\n\n    locations () {\n      if (this.eventData) {\n        return this.eventData.locations\n      } else {\n        return []\n      }\n    },\n\n    latLngs () {\n      return this.locationsWithCoordinates.map(location => location.latLng)\n    },\n\n    locationsWithCoordinates () {\n      return this.locations.filter(location => location.latLng)\n    }\n  },\n\n  methods: {\n    fetchEventData () {\n      this.eventMetaData.getEventData().then(eventData => {\n        this.eventData = eventData\n        console.log(JSON.stringify(this.eventData, null, 2))\n        this.zoomToExtent()\n      }).catch(err => console.log(err))\n    },\n\n    getLocationSelector (location) {\n      return () => {\n        this.selectedLocation = location\n      }\n    },\n\n    zoomToExtent () {\n      map.fitLatLngs(this.latLngs)\n    }\n  },\n\n  watch: {\n    eventMetaData () {\n      this.fetchEventData()\n    },\n\n    selectedLocation () {\n      const latLng = this.selectedLocation.latLng\n      if (latLng) {\n        map.setView(this.selectedLocation.latLng)\n      } else {\n        this.zoomToExtent()\n      }\n    }\n  },\n\n  ready () {\n    this.fetchEventData()\n  }\n\n}\n</script>\n\n\n/** WEBPACK FOOTER **\n ** GeoEvent.vue?54aef1f9\n **/","<template>\n  <div>\n    <label for=\"event-selector\">Event</label>\n    <select name=\"event-selector\" id=\"event-selector\" v-model=\"selectedGeoEvent\">\n      <option v-for=\"geoEvent in geoEvents\" :value=\"geoEvent\">{{geoEvent.name}}</option>\n    </select>\n\n    <div id=\"map-container\"></div>\n\n    <geo-event v-if=\"selectedGeoEvent\" :event-meta-data=\"selectedGeoEvent\"></geo-event>\n  </div>\n</template>\n\n<script>\nimport GeoEvent from './GeoEvent.vue'\nimport server from '../libs/server'\nimport map from '../libs/map'\n\nexport default {\n  components: {\n    GeoEvent\n  },\n  data: () => ({\n    msg: 'hello',\n    geoEvents: [],\n    selectedGeoEvent: undefined\n  }),\n  // data () {\n  //   return {\n  //     msg: 'hello'\n  //   }\n  // },\n  ready () {\n    map.createMap('map-container')\n    server.init()\n      .catch(err => console.log(err))\n      .then(this.fetchEvents)\n  },\n\n  watch: {\n    geoEvents () {\n      if (this.geoEvents.length === 1) {\n        this.selectedGeoEvent = this.geoEvents[0]\n      }\n    }\n  },\n\n  methods: {\n    fetchEvents () {\n      server.getEvents().then(events => {\n        this.$set('geoEvents', events)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#map-container {\n  height: 200px\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** GeoEventsView.vue?3073c20f\n **/","<template>\n  <div>\n    <h2>{{locationData.name}}</h2>\n    <p v-if=\"locationData && !locationData.latLng\">Coordinates missing</p>\n\n    <template v-for=\"category in categories\">\n      <input type=\"checkbox\" :id=\"category.name\" :value=\"category\" v-model=\"checkedCategories\" checked>\n      <label :for=\"category.name\">{{category.name}}</label>\n    </template>\n\n    <div id=\"categories\">\n      <category-view v-for=\"category in categories\" :category-data=\"category\" v-show=\"checkedCategories.includes(category)\"></category-view>\n      <div v-if=\"categories.length === 0\">No image categories for this location</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CategoryView from './CategoryView.vue'\n// import map from '../libs/map'\n\nexport default {\n  props: ['locationData'],\n  components: {\n    CategoryView\n  },\n\n  data: () => ({\n    // categories: [],\n    checkedCategories: [],\n    latLng: undefined\n  }),\n\n  computed: {\n    categories () {\n      return this.locationData ? this.locationData.categories : []\n    }\n  },\n\n  watch: {\n    categories () {\n      this.checkedCategories = [...this.categories]\n    }\n  }\n}\n</script>\n\n<style>\n#categories {\n  display: flex;\n  justify-content: space-around;\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** LocationView.vue?ebf401c2\n **/","<script>\nimport map from '../libs/map'\n\nexport default {\n  props: {\n    latLng: {\n      type: Array,\n      required: true\n    },\n    clickHandler: {\n      type: Function\n    }\n  },\n  data: () => ({\n    marker: undefined\n  }),\n\n  ready () {\n    this.marker = map.addMarker(this.latLng, this.clickHandler)\n  },\n\n  beforeDestroy () {\n    this.marker.destroy()\n  },\n\n  watch: {\n    latLng () {\n      this.marker.setLatLng(this.latLng)\n    }\n  }\n}\n</script>\n\n\n/** WEBPACK FOOTER **\n ** MapMarker.vue?60f981bf\n **/","<template>\n  <div>\n    <img class=\"thumbnail\" :src=\"imgSrc\" :alt=\"imageData.path\" @click=\"fullScreen\">\n    <p>{{imageData.name}}</p>\n  </div>\n</template>\n\n<script>\nconst URL = window.URL || window.webkitURL\nexport default {\n  props: ['imageData'],\n\n  data: () => ({\n    imgSrc: ''\n  }),\n\n  methods: {\n    updateImgSrc () {\n      this.revokeImgSrc()\n\n      this.imageData.getThumbnailBlob().then(blob => {\n        this.imgSrc = URL.createObjectURL(blob)\n      })\n    },\n\n    revokeImgSrc () {\n      if (this.imgSrc) {\n        URL.revokeObjectURL(this.imgSrc)\n      }\n    },\n\n    fullScreen () {\n      console.log('fullScreen')\n    }\n  },\n\n  watch: {\n    imageData () {\n      this.updateImgSrc()\n    }\n  },\n\n  ready () {\n    this.updateImgSrc()\n  },\n\n  beforeDestroy () {\n    this.revokeImgSrc()\n  }\n}\n</script>\n\n<style>\n.thumbnail {\n  max-width: 100%;\n  max-height: 100%;\n  cursor: pointer;\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** Thumbnail.vue?271862bc\n **/","module.exports = \" <div id=app> <geo-events-view></geo-events-view> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 118\n ** module chunks = 2\n **/","module.exports = \" <div class=category-view> <h3>{{categoryData.name}}</h3> <thumbnail v-for=\\\"image in images\\\" :image-data=image></thumbnail> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CategoryView.vue\n ** module id = 119\n ** module chunks = 2\n **/","module.exports = \" <div> <h2>{{eventMetaData.name}}</h2> <select name=location-selector id=location-selector v-model=selectedLocation> <option v-for=\\\"location in locations\\\" :value=location>{{location.name}}</option> </select> <label for=location-selector>Select a location</label> <location-view v-if=selectedLocation :location-data=selectedLocation></location-view> <map-marker v-for=\\\"location in locationsWithCoordinates\\\" :lat-lng=location.latLng :click-handler=getLocationSelector(location)></map-marker> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GeoEvent.vue\n ** module id = 120\n ** module chunks = 2\n **/","module.exports = \" <div> <label for=event-selector>Event</label> <select name=event-selector id=event-selector v-model=selectedGeoEvent> <option v-for=\\\"geoEvent in geoEvents\\\" :value=geoEvent>{{geoEvent.name}}</option> </select> <div id=map-container></div> <geo-event v-if=selectedGeoEvent :event-meta-data=selectedGeoEvent></geo-event> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GeoEventsView.vue\n ** module id = 121\n ** module chunks = 2\n **/","module.exports = \" <div> <h2>{{locationData.name}}</h2> <p v-if=\\\"locationData && !locationData.latLng\\\">Coordinates missing</p> <template v-for=\\\"category in categories\\\"> <input type=checkbox :id=category.name :value=category v-model=checkedCategories checked=checked> <label :for=category.name>{{category.name}}</label> </template> <div id=categories> <category-view v-for=\\\"category in categories\\\" :category-data=category v-show=checkedCategories.includes(category)></category-view> <div v-if=\\\"categories.length === 0\\\">No image categories for this location</div> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/LocationView.vue\n ** module id = 122\n ** module chunks = 2\n **/","module.exports = \" <div> <img class=thumbnail :src=imgSrc :alt=imageData.path @click=fullScreen> <p>{{imageData.name}}</p> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Thumbnail.vue\n ** module id = 123\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 124\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./CategoryView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./CategoryView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./CategoryView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/CategoryView.vue\n ** module id = 125\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./GeoEvent.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./GeoEvent.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/GeoEvent.vue\n ** module id = 126\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./GeoEventsView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./GeoEventsView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./GeoEventsView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/GeoEventsView.vue\n ** module id = 127\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./LocationView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./LocationView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./LocationView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/LocationView.vue\n ** module id = 128\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./MapMarker.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/MapMarker.vue\n ** module id = 129\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Thumbnail.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Thumbnail.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Thumbnail.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Thumbnail.vue\n ** module id = 130\n ** module chunks = 2\n **/"],"sourceRoot":""}