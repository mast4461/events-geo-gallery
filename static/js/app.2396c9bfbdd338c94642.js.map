{"version":3,"sources":["webpack:///static/js/app.2396c9bfbdd338c94642.js","webpack:///./src/main.js","webpack:///./src/modules/map.js","webpack:///./src/modules/server.js","webpack:///./src/modules/window-location-parser.js","webpack:///App.vue","webpack:///CategoryView.vue","webpack:///FullscreenImage.vue","webpack:///GeoEvent.vue","webpack:///GeoEventsView.vue","webpack:///LocationView.vue","webpack:///MapMarker.vue","webpack:///Thumbnail.vue","webpack:///./src/App.vue?d818","webpack:///./src/components/CategoryView.vue?88b5","webpack:///./src/components/FullscreenImage.vue?6d2f","webpack:///./src/components/GeoEvent.vue?52e2","webpack:///./src/components/GeoEventsView.vue?245e","webpack:///./src/components/LocationView.vue?fd0f","webpack:///./src/components/Thumbnail.vue?aaeb","webpack:///./src/App.vue","webpack:///./src/components/CategoryView.vue","webpack:///./src/components/FullscreenImage.vue","webpack:///./src/components/GeoEvent.vue","webpack:///./src/components/GeoEventsView.vue","webpack:///./src/components/LocationView.vue","webpack:///./src/components/MapMarker.vue","webpack:///./src/components/Thumbnail.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","components","App","Object","defineProperty","value","map","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","L","window","Marker","latLng","onClick","title","this","options","undefined","marker","addTo","bindPopup","on","key","removeLayer","off","setLatLng","openPopup","closePopup","createMap","element","setView","tileLayer","attribution","addMarker","zoom","fitLatLngs","latLngs","fitBounds","latLngBounds","padding","init","console","log","_promise2","resolve","reject","token","_windowLocationParser","getAccessToken","location","dbx","setAccessToken","sortEntries","dropboxResponse","entries","sort","a","b","pathA","path_lower","pathB","flatListToTree","dropboxEntries","tree","forEach","dropboxEntry","pathParts","split","shift","currentLevel","n","length","part","i","existingPath","find","item","name","children","newPart","push","treeToEventData","reshapedTree","locations","child","categories","filter","category","images","path","getThumbnailBlob","filesGetThumbnail","id","size","then","response","fileBlob","locationEntry","test","numbers","match","lat","lng","nameA","toUpperCase","nameB","filesListFolder","entry","Folder","logAndRethrowError","error","_promise","_dropbox","_dropbox2","dropboxResponseEntry","recursive","raw","getEvents","getHashParameters","hash","substring","reduce","acc","pairString","_pairString$split","_pairString$split2","_slicedToArray3","params","hasOwnProperty","_slicedToArray2","_GeoEventsView","_GeoEventsView2","GeoEventsView","_Thumbnail","_Thumbnail2","props","Thumbnail","computed","categoryData","methods","updateDialogState","show","$el","open","close","watch","ready","document","body","appendChild","_stringify","_stringify2","_LocationView","_LocationView2","_MapMarker","_MapMarker2","_map","_map2","LocationView","MapMarker","data","selectedLocation","eventData","string","locationsWithCoordinates","fetchEventData","_this","eventMetaData","getEventData","zoomToExtent","err","getLocationSelector","_this2","viewSelectedLocation","_GeoEvent","_GeoEvent2","_server","_server2","GeoEvent","msg","geoEvents","selectedGeoEvent","fetchEvents","events","$set","_toConsumableArray2","_toConsumableArray3","_CategoryView","_CategoryView2","CategoryView","checkedCategories","locationData","concat","type","Array","required","clickHandler","Function","String","isSelected","Boolean","beforeDestroy","destroy","_FullscreenImage","_FullscreenImage2","URL","webkitURL","FullscreenImage","imgSrc","isFullscreen","updateImgSrc","revokeImgSrc","imageData","blob","createObjectURL","revokeObjectURL","fullScreen","__vue_script__","__vue_template__","template"],"mappings":"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","file":"static/js/app.2396c9bfbdd338c94642.js","sourcesContent":["webpackJsonp([2,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(134);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(126);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: 'body',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(30);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(31);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar L = window.L;\n\tvar map;\n\t\n\tvar Marker = function () {\n\t  function Marker(latLng, onClick, title) {\n\t    (0, _classCallCheck3.default)(this, Marker);\n\t\n\t    var options = {};\n\t    if (title !== undefined) {\n\t      options.title = title;\n\t    }\n\t\n\t    this.marker = L.marker(latLng, options).addTo(map);\n\t\n\t    if (title !== undefined) {\n\t      this.marker.bindPopup(title);\n\t    }\n\t\n\t    if (onClick) {\n\t      this.onClick = onClick;\n\t      this.marker.on('click', onClick);\n\t    }\n\t  }\n\t\n\t  (0, _createClass3.default)(Marker, [{\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      map.removeLayer(this.marker);\n\t      if (this.onClick) {\n\t        this.marker.off('click', this.onClick);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setLatLng',\n\t    value: function setLatLng(latLng) {\n\t      this.marker.setLatLng(latLng);\n\t    }\n\t  }, {\n\t    key: 'openPopup',\n\t    value: function openPopup() {\n\t      this.marker.openPopup();\n\t    }\n\t  }, {\n\t    key: 'closePopup',\n\t    value: function closePopup() {\n\t      this.marker.closePopup();\n\t    }\n\t  }]);\n\t  return Marker;\n\t}();\n\t\n\texports.default = {\n\t  createMap: function createMap(element) {\n\t    map = L.map(element);\n\t    window.map = map;\n\t    map.setView([0, 0], 0);\n\t\n\t    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n\t      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t    }).addTo(map);\n\t  },\n\t  addMarker: function addMarker(latLng, onClick, title) {\n\t    return new Marker(latLng, onClick, title);\n\t  },\n\t  setView: function setView(latLng, zoom) {\n\t    map.setView(latLng, zoom);\n\t  },\n\t  fitLatLngs: function fitLatLngs(latLngs) {\n\t    map.fitBounds(L.latLngBounds(latLngs), {\n\t      padding: [30, 30]\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(30);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(31);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _promise = __webpack_require__(60);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _dropbox = __webpack_require__(103);\n\t\n\tvar _dropbox2 = _interopRequireDefault(_dropbox);\n\t\n\tvar _windowLocationParser = __webpack_require__(46);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar dbx = new _dropbox2.default();\n\t\n\tfunction init() {\n\t  console.log('initializing');\n\t  return new _promise2.default(function (resolve, reject) {\n\t    var token = (0, _windowLocationParser.getAccessToken)();\n\t    if (token === undefined) {\n\t      console.log('Token not found in URL');\n\t      reject('Token not found in URL');\n\t\n\t      window.location = 'https://www.dropbox.com/1/oauth2/authorize?client_id=iybymu5ptwg7vkc&response_type=token&redirect_uri=https://mast4461.github.io/events-geo-gallery/';\n\t    } else {\n\t      dbx.setAccessToken(token);\n\t      resolve();\n\t    }\n\t  });\n\t}\n\t\n\tvar Folder = function () {\n\t  function Folder(dropboxResponseEntry) {\n\t    (0, _classCallCheck3.default)(this, Folder);\n\t\n\t    this.name = dropboxResponseEntry.name;\n\t    this.path = dropboxResponseEntry.path_lower;\n\t  }\n\t\n\t  (0, _createClass3.default)(Folder, [{\n\t    key: 'getContents',\n\t    value: function getContents() {\n\t      return filesListFolder({ path: this.path });\n\t    }\n\t  }, {\n\t    key: 'getThumbnail',\n\t    value: function getThumbnail() {\n\t      return dbx.filesGetThumbnail({ path: this.path }).catch(logAndRethrowError);\n\t    }\n\t  }, {\n\t    key: 'getEventData',\n\t    value: function getEventData() {\n\t      return dbx.filesListFolder({ path: this.path, recursive: true }).then(function (raw) {\n\t        console.log({ raw: raw });\n\t        return raw;\n\t      }).then(sortEntries).then(flatListToTree).then(treeToEventData).catch(logAndRethrowError);\n\t    }\n\t  }]);\n\t  return Folder;\n\t}();\n\t\n\tfunction sortEntries(dropboxResponse) {\n\t  dropboxResponse.entries = dropboxResponse.entries.sort(function (a, b) {\n\t    var pathA = a.path_lower;\n\t    var pathB = b.path_lower;\n\t    if (pathA < pathB) {\n\t      return -1;\n\t    } else if (pathA > pathB) {\n\t      return 1;\n\t    } else {\n\t      return 0;\n\t    }\n\t  });\n\t\n\t  return dropboxResponse;\n\t}\n\t\n\tfunction flatListToTree(dropboxResponse) {\n\t  var dropboxEntries = dropboxResponse.entries;\n\t  var tree = [];\n\t\n\t  dropboxEntries.forEach(function (dropboxEntry) {\n\t    var pathParts = dropboxEntry.path_lower.split('/');\n\t    pathParts.shift();\n\t\n\t    var currentLevel = tree;\n\t\n\t    var n = pathParts.length;\n\t    pathParts.forEach(function (part, i) {\n\t      var existingPath = currentLevel.find(function (item) {\n\t        return item.name === part;\n\t      });\n\t\n\t      if (existingPath) {\n\t        currentLevel = existingPath.children;\n\t      } else {\n\t        var newPart = {\n\t          name: part,\n\t          children: []\n\t        };\n\t\n\t        if (i === n - 1) {\n\t          newPart.item = dropboxEntry;\n\t        }\n\t\n\t        currentLevel.push(newPart);\n\t        currentLevel = newPart.children;\n\t      }\n\t    });\n\t  });\n\t\n\t  return tree[0];\n\t}\n\t\n\tfunction treeToEventData(tree) {\n\t  var reshapedTree = {\n\t    name: tree.name,\n\t    locations: tree.children.map(function (child) {\n\t      return {\n\t        name: child.name,\n\t        categories: child.children.filter(function (child) {\n\t          return child.item['.tag'] === 'folder';\n\t        }).map(function (category) {\n\t          return {\n\t            name: category.name,\n\t            images: category.children.map(function (child) {\n\t              return {\n\t                name: child.name,\n\t                path: child.item.path_lower,\n\t                getThumbnailBlob: function getThumbnailBlob() {\n\t                  return dbx.filesGetThumbnail({ path: child.item.id, size: 'w640h480' }).then(function (response) {\n\t                    return response.fileBlob;\n\t                  });\n\t                }\n\t              };\n\t            })\n\t          };\n\t        }),\n\t        latLng: function () {\n\t          var locationEntry = child.children.find(function (child) {\n\t            return (/\\.latLng/i.test(child.name)\n\t            );\n\t          });\n\t          if (locationEntry) {\n\t            var numbers = locationEntry.name.match(/\\d+/g);\n\t            var lat = +(numbers[0] + '.' + numbers[1]);\n\t            var lng = +(numbers[2] + '.' + numbers[3]);\n\t            return [lat, lng];\n\t          }\n\t        }()\n\t      };\n\t    })\n\t  };\n\t\n\t  reshapedTree.locations = reshapedTree.locations.sort(function (a, b) {\n\t    var nameA = a.name.toUpperCase();\n\t    var nameB = b.name.toUpperCase();\n\t    if (nameA < nameB) {\n\t      return -1;\n\t    } else if (nameA > nameB) {\n\t      return 1;\n\t    } else {\n\t      return 0;\n\t    }\n\t  });\n\t\n\t  return reshapedTree;\n\t}\n\t\n\tfunction filesListFolder(options) {\n\t  return dbx.filesListFolder(options).then(function (response) {\n\t    return response.entries.map(function (entry) {\n\t      return new Folder(entry);\n\t    });\n\t  }).catch(logAndRethrowError);\n\t}\n\t\n\tfunction logAndRethrowError(error) {\n\t  console.log(error);\n\t  throw error;\n\t}\n\t\n\texports.default = {\n\t  getEvents: function getEvents() {\n\t    return filesListFolder({ path: '' });\n\t  },\n\t\n\t\n\t  init: init\n\t};\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getAccessToken = exports.getHashParameters = undefined;\n\t\n\tvar _slicedToArray2 = __webpack_require__(61);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getHashParameters() {\n\t  return window.location.hash.substring(1).split('&').reduce(function (acc, pairString) {\n\t    var _pairString$split = pairString.split('=');\n\t\n\t    var _pairString$split2 = (0, _slicedToArray3.default)(_pairString$split, 2);\n\t\n\t    var key = _pairString$split2[0];\n\t    var value = _pairString$split2[1];\n\t\n\t    acc[key] = value;\n\t    return acc;\n\t  }, {});\n\t}\n\t\n\tfunction getAccessToken() {\n\t  var params = getHashParameters();\n\t  var key = 'access_token';\n\t\n\t  return params.hasOwnProperty(key) ? params[key] : undefined;\n\t}\n\t\n\texports.getHashParameters = getHashParameters;\n\texports.getAccessToken = getAccessToken;\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _GeoEventsView = __webpack_require__(130);\n\t\n\tvar _GeoEventsView2 = _interopRequireDefault(_GeoEventsView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    GeoEventsView: _GeoEventsView2.default\n\t  }\n\t};\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Thumbnail = __webpack_require__(133);\n\t\n\tvar _Thumbnail2 = _interopRequireDefault(_Thumbnail);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['categoryData'],\n\t  components: {\n\t    Thumbnail: _Thumbnail2.default\n\t  },\n\t\n\t  computed: {\n\t    images: function images() {\n\t      return this.categoryData ? this.categoryData.images : [];\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['imgSrc', 'alt', 'show', 'text'],\n\t\n\t  methods: {\n\t    updateDialogState: function updateDialogState() {\n\t      if (this.show && !this.$el.open) {\n\t        this.$el.show();\n\t      } else if (!this.show && this.$el.open) {\n\t        this.$el.close();\n\t      }\n\t    },\n\t    close: function close() {\n\t      this.$el.close();\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    show: function show() {\n\t      this.updateDialogState();\n\t    }\n\t  },\n\t\n\t  ready: function ready() {\n\t    document.body.appendChild(this.$el);\n\t    this.updateDialogState();\n\t  }\n\t};\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(58);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _LocationView = __webpack_require__(131);\n\t\n\tvar _LocationView2 = _interopRequireDefault(_LocationView);\n\t\n\tvar _MapMarker = __webpack_require__(132);\n\t\n\tvar _MapMarker2 = _interopRequireDefault(_MapMarker);\n\t\n\tvar _map = __webpack_require__(15);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['eventMetaData'],\n\t  components: {\n\t    LocationView: _LocationView2.default,\n\t    MapMarker: _MapMarker2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      selectedLocation: undefined,\n\t      eventData: undefined\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    string: function string() {\n\t      return (0, _stringify2.default)(this.eventData, null, 2);\n\t    },\n\t    locations: function locations() {\n\t      if (this.eventData) {\n\t        return this.eventData.locations;\n\t      } else {\n\t        return [];\n\t      }\n\t    },\n\t    latLngs: function latLngs() {\n\t      return this.locationsWithCoordinates.map(function (location) {\n\t        return location.latLng;\n\t      });\n\t    },\n\t    locationsWithCoordinates: function locationsWithCoordinates() {\n\t      return this.locations.filter(function (location) {\n\t        return location.latLng;\n\t      });\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    fetchEventData: function fetchEventData() {\n\t      var _this = this;\n\t\n\t      this.eventMetaData.getEventData().then(function (eventData) {\n\t        _this.eventData = eventData;\n\t        console.log((0, _stringify2.default)(_this.eventData, null, 2));\n\t        _this.zoomToExtent();\n\t      }).catch(function (err) {\n\t        return console.log(err);\n\t      });\n\t    },\n\t    getLocationSelector: function getLocationSelector(location) {\n\t      var _this2 = this;\n\t\n\t      return function () {\n\t        _this2.selectedLocation = location;\n\t        _this2.viewSelectedLocation();\n\t      };\n\t    },\n\t    zoomToExtent: function zoomToExtent() {\n\t      _map2.default.fitLatLngs(this.latLngs);\n\t    },\n\t    viewSelectedLocation: function viewSelectedLocation() {\n\t      var latLng = this.selectedLocation.latLng;\n\t      if (latLng) {\n\t        _map2.default.setView(this.selectedLocation.latLng);\n\t      } else {\n\t        this.zoomToExtent();\n\t      }\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    eventMetaData: function eventMetaData() {\n\t      this.fetchEventData();\n\t    },\n\t    selectedLocation: function selectedLocation() {\n\t      this.viewSelectedLocation();\n\t    }\n\t  },\n\t\n\t  ready: function ready() {\n\t    this.fetchEventData();\n\t  }\n\t};\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _GeoEvent = __webpack_require__(129);\n\t\n\tvar _GeoEvent2 = _interopRequireDefault(_GeoEvent);\n\t\n\tvar _server = __webpack_require__(45);\n\t\n\tvar _server2 = _interopRequireDefault(_server);\n\t\n\tvar _map = __webpack_require__(15);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    GeoEvent: _GeoEvent2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      msg: 'hello',\n\t      geoEvents: [],\n\t      selectedGeoEvent: undefined\n\t    };\n\t  },\n\t  ready: function ready() {\n\t    _map2.default.createMap('map-container');\n\t    _server2.default.init().catch(function (err) {\n\t      return console.log(err);\n\t    }).then(this.fetchEvents);\n\t  },\n\t\n\t\n\t  watch: {\n\t    geoEvents: function geoEvents() {\n\t      if (this.geoEvents.length === 1) {\n\t        this.selectedGeoEvent = this.geoEvents[0];\n\t      }\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    fetchEvents: function fetchEvents() {\n\t      var _this = this;\n\t\n\t      _server2.default.getEvents().then(function (events) {\n\t        _this.$set('geoEvents', events);\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(62);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _CategoryView = __webpack_require__(127);\n\t\n\tvar _CategoryView2 = _interopRequireDefault(_CategoryView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['locationData'],\n\t  components: {\n\t    CategoryView: _CategoryView2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      checkedCategories: [],\n\t      latLng: undefined\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    categories: function categories() {\n\t      return this.locationData ? this.locationData.categories : [];\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    categories: function categories() {\n\t      this.checkedCategories = [].concat((0, _toConsumableArray3.default)(this.categories));\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _map = __webpack_require__(15);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: {\n\t    latLng: {\n\t      type: Array,\n\t      required: true\n\t    },\n\t    clickHandler: {\n\t      type: Function\n\t    },\n\t    title: {\n\t      type: String\n\t    },\n\t    isSelected: {\n\t      type: Boolean\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      marker: undefined\n\t    };\n\t  },\n\t\n\t  ready: function ready() {\n\t    this.marker = _map2.default.addMarker(this.latLng, this.clickHandler, this.title);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    this.marker.destroy();\n\t  },\n\t\n\t\n\t  watch: {\n\t    latLng: function latLng() {\n\t      this.marker.setLatLng(this.latLng);\n\t    },\n\t    isSelected: function isSelected() {\n\t      if (this.isSelected) {\n\t        this.marker.openPopup();\n\t      } else {\n\t        this.marker.closePopup();\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _FullscreenImage = __webpack_require__(128);\n\t\n\tvar _FullscreenImage2 = _interopRequireDefault(_FullscreenImage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar URL = window.URL || window.webkitURL;\n\t\n\texports.default = {\n\t  props: ['imageData'],\n\t\n\t  components: {\n\t    FullscreenImage: _FullscreenImage2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      imgSrc: '',\n\t      isFullscreen: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    updateImgSrc: function updateImgSrc() {\n\t      var _this = this;\n\t\n\t      this.revokeImgSrc();\n\t\n\t      this.imageData.getThumbnailBlob().then(function (blob) {\n\t        _this.imgSrc = URL.createObjectURL(blob);\n\t      });\n\t    },\n\t    revokeImgSrc: function revokeImgSrc() {\n\t      if (this.imgSrc) {\n\t        URL.revokeObjectURL(this.imgSrc);\n\t      }\n\t    },\n\t    fullScreen: function fullScreen() {\n\t      console.log('fullScreen');\n\t      this.isFullscreen = !this.isFullscreen;\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    imageData: function imageData() {\n\t      this.updateImgSrc();\n\t    }\n\t  },\n\t\n\t  ready: function ready() {\n\t    this.updateImgSrc();\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    this.revokeImgSrc();\n\t  }\n\t};\n\n/***/ },\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 111 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 112 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 113 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 114 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=app> <geo-events-view></geo-events-view> </div> \";\n\n/***/ },\n/* 120 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=category-view> <h3>{{categoryData.name}}</h3> <thumbnail v-for=\\\"image in images\\\" :image-data=image></thumbnail> </div> \";\n\n/***/ },\n/* 121 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <dialog class=fullscreen> <img class=fullscreen :src=imgSrc :alt=alt @click=close> <p>{{text}}</p> </dialog> \";\n\n/***/ },\n/* 122 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <h2>{{eventMetaData.name}}</h2> <label for=location-selector>Location:</label> <select name=location-selector id=location-selector v-model=selectedLocation> <option v-for=\\\"location in locations\\\" :value=location>{{location.name}}</option> </select> <location-view v-if=selectedLocation :location-data=selectedLocation></location-view> <map-marker v-for=\\\"location in locationsWithCoordinates\\\" :lat-lng=location.latLng :click-handler=getLocationSelector(location) :title=location.name :is-selected=\\\"location === selectedLocation\\\"></map-marker> </div> \";\n\n/***/ },\n/* 123 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <label for=event-selector>Event:</label> <select name=event-selector id=event-selector v-model=selectedGeoEvent> <option v-for=\\\"geoEvent in geoEvents\\\" :value=geoEvent>{{geoEvent.name}}</option> </select> <div id=map-container></div> <geo-event v-if=selectedGeoEvent :event-meta-data=selectedGeoEvent></geo-event> </div> \";\n\n/***/ },\n/* 124 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <h2>{{locationData.name}}</h2> <p v-if=\\\"locationData && !locationData.latLng\\\">Coordinates missing</p> <template v-for=\\\"category in categories\\\"> <input type=checkbox :id=category.name :value=category v-model=checkedCategories checked=checked> <label :for=category.name>{{category.name}}</label> </template> <div id=categories> <category-view v-for=\\\"category in categories\\\" :category-data=category v-show=checkedCategories.includes(category)></category-view> <div v-if=\\\"categories.length === 0\\\">No images for this location</div> </div> </div> \";\n\n/***/ },\n/* 125 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div> <img class=thumbnail :src=imgSrc :alt=imageData.path @click=fullScreen> <p>{{imageData.name}}</p> <fullscreen-image :show=isFullscreen :img-src=imgSrc :alt=imageData.path :text=imageData.name></fullscreen-image> </div> \";\n\n/***/ },\n/* 126 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(109)\n\t__vue_script__ = __webpack_require__(47)\n\t__vue_template__ = __webpack_require__(119)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 127 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(110)\n\t__vue_script__ = __webpack_require__(48)\n\t__vue_template__ = __webpack_require__(120)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 128 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(111)\n\t__vue_script__ = __webpack_require__(49)\n\t__vue_template__ = __webpack_require__(121)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(50)\n\t__vue_template__ = __webpack_require__(122)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 130 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(112)\n\t__vue_script__ = __webpack_require__(51)\n\t__vue_template__ = __webpack_require__(123)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 131 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(113)\n\t__vue_script__ = __webpack_require__(52)\n\t__vue_template__ = __webpack_require__(124)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 132 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(53)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 133 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(114)\n\t__vue_script__ = __webpack_require__(54)\n\t__vue_template__ = __webpack_require__(125)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.2396c9bfbdd338c94642.js\n **/","import Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: 'body',\n  components: { App }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","\nconst L = window.L\nvar map\n\nclass Marker {\n  constructor (latLng, onClick, title) {\n    const options = {}\n    if (title !== undefined) {\n      options.title = title\n    }\n\n    this.marker = L.marker(latLng, options).addTo(map)\n\n    if (title !== undefined) {\n      this.marker.bindPopup(title)\n    }\n\n    if (onClick) {\n      this.onClick = onClick\n      this.marker.on('click', onClick)\n    }\n  }\n\n  destroy () {\n    map.removeLayer(this.marker)\n    if (this.onClick) {\n      this.marker.off('click', this.onClick)\n    }\n  }\n\n  setLatLng (latLng) {\n    this.marker.setLatLng(latLng)\n  }\n\n  openPopup () {\n    this.marker.openPopup()\n  }\n\n  closePopup () {\n    this.marker.closePopup()\n  }\n}\n\nexport default {\n  createMap (element) {\n    map = L.map(element)\n    window.map = map\n    map.setView([0, 0], 0)\n\n    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map)\n  },\n\n  addMarker (latLng, onClick, title) {\n    return new Marker(latLng, onClick, title)\n  },\n\n  setView (latLng, zoom) {\n    map.setView(latLng, zoom)\n  },\n\n  fitLatLngs (latLngs) {\n    map.fitBounds(L.latLngBounds(latLngs), {\n      padding: [30, 30]\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/map.js\n **/","import Dropbox from 'dropbox'\nimport { getAccessToken } from './window-location-parser'\n\nconst dbx = new Dropbox()\n\nfunction init () {\n  console.log('initializing')\n  return new Promise((resolve, reject) => {\n    const token = getAccessToken()\n    if (token === undefined) {\n      console.log('Token not found in URL')\n      reject('Token not found in URL')\n\n      // Hmm, the following URL should probably be a configuration setting...\n      window.location = 'https://www.dropbox.com/1/oauth2/authorize?client_id=iybymu5ptwg7vkc&response_type=token&redirect_uri=https://mast4461.github.io/events-geo-gallery/'\n    } else {\n      dbx.setAccessToken(token)\n      resolve()\n    }\n  })\n}\n\nclass Folder {\n  constructor (dropboxResponseEntry) {\n    this.name = dropboxResponseEntry.name\n    this.path = dropboxResponseEntry.path_lower\n  }\n\n  getContents () {\n    return filesListFolder({path: this.path})\n  }\n\n  getThumbnail () {\n    return dbx.filesGetThumbnail({path: this.path})\n      .catch(logAndRethrowError)\n  }\n\n  getEventData () {\n    return dbx.filesListFolder({path: this.path, recursive: true})\n      .then(raw => {\n        console.log({raw})\n        return raw\n      })\n      .then(sortEntries)\n      .then(flatListToTree)\n      .then(treeToEventData)\n      .catch(logAndRethrowError)\n  }\n}\n\nfunction sortEntries (dropboxResponse) {\n  dropboxResponse.entries = dropboxResponse.entries.sort((a, b) => {\n    var pathA = a.path_lower\n    var pathB = b.path_lower\n    if (pathA < pathB) {\n      return -1\n    } else if (pathA > pathB) {\n      return 1\n    } else {\n      return 0\n    }\n  })\n\n  return dropboxResponse\n}\n\n// From http://brandonclapp.com/arranging-an-array-of-flat-paths-into-a-json-tree-like-structure/\nfunction flatListToTree (dropboxResponse) {\n  const dropboxEntries = dropboxResponse.entries\n  var tree = []\n\n  // This example uses the underscore.js library.\n  dropboxEntries.forEach(function (dropboxEntry) {\n    const pathParts = dropboxEntry.path_lower.split('/')\n    pathParts.shift() // Remove first blank element from the parts array.\n\n    let currentLevel = tree // initialize currentLevel to root\n\n    const n = pathParts.length\n    pathParts.forEach(function (part, i) {\n      const existingPath = currentLevel.find(item => item.name === part)\n\n      if (existingPath) {\n        // The path to this item was already in the tree, so don't add it again.\n        // Set the current level to this path's children\n        currentLevel = existingPath.children\n      } else {\n        var newPart = {\n          name: part,\n          children: []\n        }\n\n        if (i === n - 1) {\n          newPart.item = dropboxEntry\n        }\n\n        currentLevel.push(newPart)\n        currentLevel = newPart.children\n      }\n    })\n  })\n\n  return tree[0]\n}\n\nfunction treeToEventData (tree) {\n  const reshapedTree = {\n    name: tree.name,\n    locations: tree.children.map(child => ({\n      name: child.name,\n      categories: child.children.filter(child => child.item['.tag'] === 'folder')\n        .map(category => ({\n          name: category.name,\n          images: category.children.map(child => ({\n            name: child.name,\n            path: child.item.path_lower,\n            getThumbnailBlob () {\n              return dbx.filesGetThumbnail({path: child.item.id, size: 'w640h480'})\n                .then(response => response.fileBlob)\n            }\n          }))\n        })),\n      latLng: (function () {\n        const locationEntry = child.children.find(child => /\\.latLng/i.test(child.name))\n        if (locationEntry) {\n          const numbers = locationEntry.name.match(/\\d+/g)\n          const lat = +(numbers[0] + '.' + numbers[1])\n          const lng = +(numbers[2] + '.' + numbers[3])\n          return [lat, lng]\n        }\n      })()\n    }))\n  }\n\n  reshapedTree.locations = reshapedTree.locations.sort((a, b) => {\n    var nameA = a.name.toUpperCase()\n    var nameB = b.name.toUpperCase()\n    if (nameA < nameB) {\n      return -1\n    } else if (nameA > nameB) {\n      return 1\n    } else {\n      return 0\n    }\n  })\n\n  return reshapedTree\n}\n\nfunction filesListFolder (options) {\n  return dbx.filesListFolder(options)\n    .then(function (response) {\n      return response.entries.map(entry => new Folder(entry))\n    }).catch(logAndRethrowError)\n}\n\nfunction logAndRethrowError (error) {\n  console.log(error)\n  throw error\n}\n\nexport default {\n  getEvents () {\n    return filesListFolder({path: ''})\n  },\n\n  init\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/server.js\n **/","function getHashParameters () {\n  return window.location.hash.substring(1).split('&').reduce((acc, pairString) => {\n    const [key, value] = pairString.split('=')\n    acc[key] = value\n    return acc\n  }, {})\n}\n\nfunction getAccessToken () {\n  const params = getHashParameters()\n  const key = 'access_token'\n\n  return params.hasOwnProperty(key) ? params[key] : undefined\n}\n\nexport { getHashParameters, getAccessToken }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/window-location-parser.js\n **/","<template>\n  <div id=\"app\">\n    <!-- <img class=\"logo\" src=\"./assets/logo.png\"> -->\n    <geo-events-view></geo-events-view>\n  </div>\n</template>\n\n<script>\nimport GeoEventsView from './components/GeoEventsView'\n\nexport default {\n  components: {\n    GeoEventsView\n  }\n}\n</script>\n\n<style>\nhtml {\n  height: 100%;\n}\n\nbody {\n/*  display: flex;\n  align-items: center;\n  justify-content: center; */\n\n  height: 100%;\n}\n\n#app {\n  color: #2c3e50;\n  /*max-width: 600px;*/\n  font-family: Source Sans Pro, Helvetica, sans-serif;\n}\n\n#app a {\n  color: #42b983;\n  text-decoration: none;\n}\n\n.logo {\n  width: 100px;\n  height: 100px\n}\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?6c4967ca\n **/","<template>\n  <div class=\"category-view\">\n    <h3>{{categoryData.name}}</h3>\n    <thumbnail v-for=\"image in images\" :image-data=\"image\"></thumbnail>\n  </div>\n</template>\n\n<script>\nimport Thumbnail from './Thumbnail'\nexport default {\n  props: ['categoryData'],\n  components: {\n    Thumbnail\n  },\n\n  computed: {\n    images () {\n      return this.categoryData ? this.categoryData.images : []\n    }\n  }\n}\n</script>\n\n<style>\n.category-view {\n  border: 1px solid black;\n  flex: 1;\n  text-align: center;\n  position: relative;\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** CategoryView.vue?0d57f6ac\n **/","<template>\n  <dialog class=\"fullscreen\">\n    <img class=\"fullscreen\" :src=\"imgSrc\" :alt=\"alt\" @click=\"close\">\n    <p>{{text}}</p>\n  </dialog>\n</template>\n\n<script>\nexport default {\n  props: ['imgSrc', 'alt', 'show', 'text'],\n\n  methods: {\n    updateDialogState () {\n      if (this.show && !this.$el.open) {\n        this.$el.show()\n      } else if (!this.show && this.$el.open) {\n        this.$el.close()\n      }\n    },\n\n    close () {\n      this.$el.close()\n    }\n  },\n\n  watch: {\n    show () {\n      this.updateDialogState()\n    }\n  },\n\n  ready () {\n    document.body.appendChild(this.$el)\n    this.updateDialogState()\n  }\n}\n</script>\n\n<style>\ndialog.fullscreen {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  font-family: sans-serif;\n}\n\nimg.fullscreen {\n  max-width: 100%;\n  margin: auto;\n}\n\n</style>\n\n\n/** WEBPACK FOOTER **\n ** FullscreenImage.vue?2a2a539a\n **/","<template>\n  <div>\n    <h2>{{eventMetaData.name}}</h2>\n\n    <label for=\"location-selector\">Location:</label>\n    <select name=\"location-selector\" id=\"location-selector\" v-model=\"selectedLocation\">\n      <option v-for=\"location in locations\" :value=\"location\">{{location.name}}</option>\n    </select>\n\n    <location-view v-if=\"selectedLocation\" :location-data=\"selectedLocation\"></location-view>\n\n    <map-marker v-for=\"location in locationsWithCoordinates\" :lat-lng=\"location.latLng\" :click-handler=\"getLocationSelector(location)\" :title=\"location.name\" :is-selected=\"location === selectedLocation\"></map-marker>\n  </div>\n</template>\n\n<script>\nimport LocationView from './LocationView.vue'\nimport MapMarker from './MapMarker.vue'\nimport map from '../modules/map'\n\nexport default {\n  props: ['eventMetaData'],\n  components: {\n    LocationView,\n    MapMarker\n  },\n\n  data: () => ({\n    selectedLocation: undefined,\n    eventData: undefined\n  }),\n\n  computed: {\n    string () {\n      return JSON.stringify(this.eventData, null, 2)\n    },\n\n    locations () {\n      if (this.eventData) {\n        return this.eventData.locations\n      } else {\n        return []\n      }\n    },\n\n    latLngs () {\n      return this.locationsWithCoordinates.map(location => location.latLng)\n    },\n\n    locationsWithCoordinates () {\n      return this.locations.filter(location => location.latLng)\n    }\n  },\n\n  methods: {\n    fetchEventData () {\n      this.eventMetaData.getEventData().then(eventData => {\n        this.eventData = eventData\n        console.log(JSON.stringify(this.eventData, null, 2))\n        this.zoomToExtent()\n      }).catch(err => console.log(err))\n    },\n\n    getLocationSelector (location) {\n      return () => {\n        this.selectedLocation = location\n        this.viewSelectedLocation()\n      }\n    },\n\n    zoomToExtent () {\n      map.fitLatLngs(this.latLngs)\n    },\n\n    viewSelectedLocation () {\n      const latLng = this.selectedLocation.latLng\n      if (latLng) {\n        map.setView(this.selectedLocation.latLng)\n      } else {\n        this.zoomToExtent()\n      }\n    }\n  },\n\n  watch: {\n    eventMetaData () {\n      this.fetchEventData()\n    },\n\n    selectedLocation () {\n      this.viewSelectedLocation()\n    }\n  },\n\n  ready () {\n    this.fetchEventData()\n  }\n\n}\n</script>\n\n\n/** WEBPACK FOOTER **\n ** GeoEvent.vue?4b63dbaf\n **/","<template>\n  <div>\n    <label for=\"event-selector\">Event:</label>\n    <select name=\"event-selector\" id=\"event-selector\" v-model=\"selectedGeoEvent\">\n      <option v-for=\"geoEvent in geoEvents\" :value=\"geoEvent\">{{geoEvent.name}}</option>\n    </select>\n\n    <div id=\"map-container\"></div>\n\n    <geo-event v-if=\"selectedGeoEvent\" :event-meta-data=\"selectedGeoEvent\"></geo-event>\n  </div>\n</template>\n\n<script>\nimport GeoEvent from './GeoEvent.vue'\nimport server from '../modules/server'\nimport map from '../modules/map'\n\nexport default {\n  components: {\n    GeoEvent\n  },\n  data: () => ({\n    msg: 'hello',\n    geoEvents: [],\n    selectedGeoEvent: undefined\n  }),\n  // data () {\n  //   return {\n  //     msg: 'hello'\n  //   }\n  // },\n  ready () {\n    map.createMap('map-container')\n    server.init()\n      .catch(err => console.log(err))\n      .then(this.fetchEvents)\n  },\n\n  watch: {\n    geoEvents () {\n      if (this.geoEvents.length === 1) {\n        this.selectedGeoEvent = this.geoEvents[0]\n      }\n    }\n  },\n\n  methods: {\n    fetchEvents () {\n      server.getEvents().then(events => {\n        this.$set('geoEvents', events)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#map-container {\n  height: 200px\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** GeoEventsView.vue?8fd2fcd2\n **/","<template>\n  <div>\n    <h2>{{locationData.name}}</h2>\n    <p v-if=\"locationData && !locationData.latLng\">Coordinates missing</p>\n\n    <template v-for=\"category in categories\">\n      <input type=\"checkbox\" :id=\"category.name\" :value=\"category\" v-model=\"checkedCategories\" checked>\n      <label :for=\"category.name\">{{category.name}}</label>\n    </template>\n\n    <div id=\"categories\">\n      <category-view v-for=\"category in categories\" :category-data=\"category\" v-show=\"checkedCategories.includes(category)\"></category-view>\n      <div v-if=\"categories.length === 0\">No images for this location</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CategoryView from './CategoryView.vue'\n// import map from '../modules/map'\n\nexport default {\n  props: ['locationData'],\n  components: {\n    CategoryView\n  },\n\n  data: () => ({\n    // categories: [],\n    checkedCategories: [],\n    latLng: undefined\n  }),\n\n  computed: {\n    categories () {\n      return this.locationData ? this.locationData.categories : []\n    }\n  },\n\n  watch: {\n    categories () {\n      this.checkedCategories = [...this.categories]\n    }\n  }\n}\n</script>\n\n<style>\n#categories {\n  display: flex;\n  justify-content: space-around;\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** LocationView.vue?1a13a5e6\n **/","<script>\nimport map from '../modules/map'\n\nexport default {\n  props: {\n    latLng: {\n      type: Array,\n      required: true\n    },\n    clickHandler: {\n      type: Function\n    },\n    title: {\n      type: String\n    },\n    isSelected: {\n      type: Boolean\n    }\n  },\n  data: () => ({\n    marker: undefined\n  }),\n\n  ready () {\n    this.marker = map.addMarker(this.latLng, this.clickHandler, this.title)\n  },\n\n  beforeDestroy () {\n    this.marker.destroy()\n  },\n\n  watch: {\n    latLng () {\n      this.marker.setLatLng(this.latLng)\n    },\n    isSelected () {\n      if (this.isSelected) {\n        this.marker.openPopup()\n      } else {\n        this.marker.closePopup()\n      }\n    }\n  }\n}\n</script>\n\n\n/** WEBPACK FOOTER **\n ** MapMarker.vue?5f15d830\n **/","<template>\n  <div>\n    <img class=\"thumbnail\" :src=\"imgSrc\" :alt=\"imageData.path\" @click=\"fullScreen\">\n    <p>{{imageData.name}}</p>\n\n    <fullscreen-image :show=\"isFullscreen\" :img-src=\"imgSrc\" :alt=\"imageData.path\" :text=\"imageData.name\"></fullscreen-image>\n  </div>\n</template>\n\n<script>\nimport FullscreenImage from './FullscreenImage.vue'\nconst URL = window.URL || window.webkitURL\n\nexport default {\n  props: ['imageData'],\n\n  components: {\n    FullscreenImage\n  },\n\n  data: () => ({\n    imgSrc: '',\n    isFullscreen: false\n  }),\n\n  methods: {\n    updateImgSrc () {\n      this.revokeImgSrc()\n\n      this.imageData.getThumbnailBlob().then(blob => {\n        this.imgSrc = URL.createObjectURL(blob)\n      })\n    },\n\n    revokeImgSrc () {\n      if (this.imgSrc) {\n        URL.revokeObjectURL(this.imgSrc)\n      }\n    },\n\n    fullScreen () {\n      console.log('fullScreen')\n      this.isFullscreen = !this.isFullscreen\n    }\n  },\n\n  watch: {\n    imageData () {\n      this.updateImgSrc()\n    }\n  },\n\n  ready () {\n    this.updateImgSrc()\n  },\n\n  beforeDestroy () {\n    this.revokeImgSrc()\n  }\n}\n</script>\n\n<style>\n.thumbnail, .fullscreen {\n  max-width: 100%;\n  max-height: 100%;\n  cursor: pointer;\n}\n\n</style>\n\n\n/** WEBPACK FOOTER **\n ** Thumbnail.vue?d3bd5496\n **/","module.exports = \" <div id=app> <geo-events-view></geo-events-view> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 119\n ** module chunks = 2\n **/","module.exports = \" <div class=category-view> <h3>{{categoryData.name}}</h3> <thumbnail v-for=\\\"image in images\\\" :image-data=image></thumbnail> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CategoryView.vue\n ** module id = 120\n ** module chunks = 2\n **/","module.exports = \" <dialog class=fullscreen> <img class=fullscreen :src=imgSrc :alt=alt @click=close> <p>{{text}}</p> </dialog> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/FullscreenImage.vue\n ** module id = 121\n ** module chunks = 2\n **/","module.exports = \" <div> <h2>{{eventMetaData.name}}</h2> <label for=location-selector>Location:</label> <select name=location-selector id=location-selector v-model=selectedLocation> <option v-for=\\\"location in locations\\\" :value=location>{{location.name}}</option> </select> <location-view v-if=selectedLocation :location-data=selectedLocation></location-view> <map-marker v-for=\\\"location in locationsWithCoordinates\\\" :lat-lng=location.latLng :click-handler=getLocationSelector(location) :title=location.name :is-selected=\\\"location === selectedLocation\\\"></map-marker> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GeoEvent.vue\n ** module id = 122\n ** module chunks = 2\n **/","module.exports = \" <div> <label for=event-selector>Event:</label> <select name=event-selector id=event-selector v-model=selectedGeoEvent> <option v-for=\\\"geoEvent in geoEvents\\\" :value=geoEvent>{{geoEvent.name}}</option> </select> <div id=map-container></div> <geo-event v-if=selectedGeoEvent :event-meta-data=selectedGeoEvent></geo-event> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GeoEventsView.vue\n ** module id = 123\n ** module chunks = 2\n **/","module.exports = \" <div> <h2>{{locationData.name}}</h2> <p v-if=\\\"locationData && !locationData.latLng\\\">Coordinates missing</p> <template v-for=\\\"category in categories\\\"> <input type=checkbox :id=category.name :value=category v-model=checkedCategories checked=checked> <label :for=category.name>{{category.name}}</label> </template> <div id=categories> <category-view v-for=\\\"category in categories\\\" :category-data=category v-show=checkedCategories.includes(category)></category-view> <div v-if=\\\"categories.length === 0\\\">No images for this location</div> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/LocationView.vue\n ** module id = 124\n ** module chunks = 2\n **/","module.exports = \" <div> <img class=thumbnail :src=imgSrc :alt=imageData.path @click=fullScreen> <p>{{imageData.name}}</p> <fullscreen-image :show=isFullscreen :img-src=imgSrc :alt=imageData.path :text=imageData.name></fullscreen-image> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Thumbnail.vue\n ** module id = 125\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 126\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./CategoryView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./CategoryView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./CategoryView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/CategoryView.vue\n ** module id = 127\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./FullscreenImage.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./FullscreenImage.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./FullscreenImage.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/FullscreenImage.vue\n ** module id = 128\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./GeoEvent.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./GeoEvent.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/GeoEvent.vue\n ** module id = 129\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./GeoEventsView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./GeoEventsView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./GeoEventsView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/GeoEventsView.vue\n ** module id = 130\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./LocationView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./LocationView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./LocationView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/LocationView.vue\n ** module id = 131\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./MapMarker.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/MapMarker.vue\n ** module id = 132\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Thumbnail.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Thumbnail.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Thumbnail.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Thumbnail.vue\n ** module id = 133\n ** module chunks = 2\n **/"],"sourceRoot":""}